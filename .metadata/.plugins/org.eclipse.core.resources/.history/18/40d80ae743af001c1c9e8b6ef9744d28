<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
    // 로그인창에 진입했을때, login_id 라는 명칭으로 발급된 쿠키가 없을 경우
    // cookie_login.jsp로 리다이렉트 시켜서 로그인 안 한 사람의 접근을 원천차단.
    // 전체 쿠키목록 얻어오기
    Cookie[] cookies = request.getCookies(); // cookie_check.jsp 의 로직을 참고하셔도 됩니다.
    
    // 쿠키 목록을 반복문으로 돌려서, "login_id" 라는 명칭의 쿠키가 없다면
    // cookie_login.jsp로 리다이렉트 시키고, 있을때만 아무 행동을 하지 않는
    // 구문을 작성해주세요.
    /* String str = null;
    
    for(int i = 0; i < cookies.length; i++){
    	str = cookies[i].getName();
    	if(!str.equals("login_id")){
    		response.sendRedirect("http://localhost:8181/JSPbasic/jspobject/cookie/cookie_login.jsp");
    		break;
    	} else { 
    		// 아무것도 실행하지 않음
    	} // 내가 짠 코드는 틀린 코드로 예측
    }*/
    
    // 리다이렉트 여부를 판단해줄 boolean 자료 생성
    boolean goLogin = true; // 로그인창으로 보낼지여부, ture로 시작
    // 향상된 for문 활용
    for(Cookie cookie : cookies){
    	String cookieName = cookie.getName();
    	if(cookieName.equals("login_id")){
    		goLogin = false; // 로그인 절차 확인시 false로
    	}
    }
    
    if(goLogin){// boolean이기때문에 로그인 절차 확인된 후에는 실행안됨
    	response.sendRedirect("http://localhost:8181/JSPbasic/jspobject/cookie/cookie_login.jsp");
    }
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
   <h1>로그인하셨습니다. 환영합니다.</h1>
   <a href="http://localhost:8181/JSPbasic/jspobject/cookie/cookie_login.jsp">로그아웃</a>
</body>
</html>